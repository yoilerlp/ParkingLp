
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">


    <link rel="stylesheet" href="css/bulma/bulma-theme.css">
    <!--link(rel="icon" href="favicon.ico")-->
    <link rel="icon" href="./imagenes/logo.png">
    <link rel="stylesheet" href="/css/style.css">
    <title>ADMIN - PARQUEADERO</title>
</head>

<body>
    <nav class="navbar bordeRadio">
        <div class="container">
            <div class="navbar-brand"><a class="navbar-item" href="./index.html">ParkinLP</a><a id="menu-movil"
                    class="navbar-burger" role="button" aria-label="menu" aria-expanded="false"><span
                        aria-hidden="true"></span><span aria-hidden="true"></span><span aria-hidden="true"></span></a></div>
            <div class="navbar-menu">
                <div class="navbar-start"><a class="navbar-item" href="./index.html">Home</a><a class="navbar-item"
                        href="./afiliarse.html" target="_blank">Afiliacion</a><a class="navbar-item" href="./reserva.html"
                        target="_blank">Reserva</a><a class="navbar-item" href="./contacto.html"
                        target="_blank">Contacto</a>
                </div>
                <div class="navbar-end">
                    <div class="navbar-item">
                        <div class="buttons"><a class="control button is-rounded is-medium" href="./login.html">Admin</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>


    <!-- MENU LA TERAL PARA EL ADMIN-->


    <div class="columns">
        <div class="column is-one-fifth">
            <hr>
            <button onclick="navSideBar('tab-agregar','AgregarVehiculo')"
                class="button is-medium is-fullwidth">Agregar</button>
            <button onclick="navSideBar('tab-retirar','RetirarVehiculo')"
                class="button is-medium is-fullwidth">Retirar</button>
            <button onclick="navSideBar('tab-consultar','ConsultarVehiculo')"
                class="button is-medium is-fullwidth">Consultar</button>
            <button onclick="navSideBar('tab-listar','ListarVehiculo')"
                class="button is-medium is-fullwidth">Listar</button>
            <button onclick="navSideBar()" class="button is-medium is-fullwidth" id="btnSalir">Salir</button>
            <hr>
        </div>

        <div class="column rest ">
            <div class="container main ">
                <div class="tabs is-centered">
                    <ul>
                        <li class="  tab-agregar   tablinks is-active" onclick="openTab(event,'AgregarVehiculo')">
                            <a>Agregar</a></li>
                        <li class="  tab-retirar   tablinks" onclick="openTab(event,'RetirarVehiculo')"><a>Retirar</a>
                        </li>
                        <li class="  tab-consultar   tablinks" onclick="openTab(event,'ConsultarVehiculo')">
                            <a>Consultar</a></li>
                        <li class="  tab-listar   tablinks" onclick="openTab(event,'ListarVehiculo')"><a>Listar</a></li>
                    </ul>
                </div>

                <div id="AgregarVehiculo" class="tabcontent " style="display:block;">
                    <!-- Formulario envio de datos-->

                    <form>

                        <div class="field">
                            <label class="label">Placa del vehiculo</label>
                            <div class="control">
                                <input class="input" type="text" placeholder="placa del vehiculo" required id="placa"
                                    maxlength="6">
                            </div>
                        </div>

                        <div class="field">
                            <label class="label">Nombre propietario</label>
                            <div class="control">
                                <input class="input" type="text" placeholder="Nombre propietario" required
                                    id="nombrePropietario">
                            </div>
                        </div>

                        <div class="field">
                            <label class="label">Identificacion</label>
                            <div class="control">
                                <input class="input" type="number" placeholder="Identificacion" required
                                    id="idPropietario">
                            </div>
                        </div>

                        <p>Tipo de vihuculo</p>

                        <div class="select mtop">
                            <select id="tipoVehiculo">
                                <option>Automovil</option>
                                <option>Bicicleta</option>
                            </select>
                        </div>

                        <label class="checkbox ">
                            <input type="checkbox" id="inputTextArea">
                            Agregar descripcion ?
                        </label>
                        <div class="control">
                            <textarea class="textarea" placeholder="Descripcion" id="desVehiculo"></textarea>
                        </div>
                        <button class="button is-outlined" id="btnIngresarVehiculo" type="submit">Ingresar</button>

                    </form>
                </div>



                <!-- Seccion de retirar vehiculos -->
                <div id="RetirarVehiculo" class="tabcontent">
                    <div class="columns">
                        <div class="column is-half">
                            <article class="message">
                                <div class="message-header">
                                    <p>Retirar vehiculo del parqueadero</p>
                                </div>
                                <div class="message-body">
                                    Al momento de presionar el boton retirar, se generara la factura a pagar.
                                    <br>
                                    Recuerde que tenemos una tarifa de 100 pesos el minuto en el parqueadero
                                </div>
                            </article>

                            <div class="content">
                                <div class="field">
                                    <label class="label">Placa</label>
                                    <div class="control">
                                        <input id="inputPlaca" class="input" type="text" placeholder="placa"
                                            maxlength="6" required>
                                    </div>
                                </div>
                                <button id="btnRetirarVehiculo" class="button is-outlined">Retirar</button>
                            </div>
                        </div>


                        <div id="contenedorFactura" class="column is-half">

                        </div>

                    </div>
                </div>

                <!-- fINAL Seccion de retirar vehiculos -->



                <!-- INICIO seccion para consultar vehiculo -->
                <div id="ConsultarVehiculo" class="tabcontent">

                    <div class="columns">
                        <!--  columna para ingresar datos -->
                        <div class="column is-one-fifth">
                            <article class="message">
                                <div class="message-header">
                                    <p>Concultar vehiculo en el parqueadero</p>
                                </div>
                                <div class="message-body">
                                    Seleccione uno de los criterios para buscar su vehiculo.
                                    Puede ser placa, Identificacion o ID de ingreso.
                                </div>
                            </article>

                            <div class="select">
                                <select id="SelecVehiculoABuscar">
                                    <option>placa</option>
                                    <option>identificacion</option>
                                    <option>ID</option>
                                </select>
                            </div>
                            <br>
                            <br>
                            <div class="field">
                                <div class="control">
                                    <input id="InputVehiculoABuscar" class="input" type="text"
                                        placeholder="placa del vehiculo" required>
                                </div>
                            </div>
                            <button id="btnBuscarVehiculo" class="button is-outlined">Consultar</button>

                        </div>

                        <!--  columna para mostrar datos -->
                        <div id="contenedorVehiculoEncontrado" class="column">

                            <figure class="image is-3by2 is-bordered">
                                <img id="imgState" src="./imagenes/buscarVehiculo.jpg" alt="buscar vehiculos">
                            </figure>
                        </div>
                    </div>






                </div>
                <!-- FINAL seccion para consultar vehiculo -->


                <!-- LIstar informacion -->
                <div id="ListarVehiculo" class="tabcontent">
                    <div class="select">
                        <select id="SelecMostrarFacturas">
                            <option>Vehiculos</option>
                            <option>Facturas</option>
                        </select>
                    </div>

                    <button id="btnListar" class="button is-outlined">Listar</button>
                    <hr>
                    <div class="columns">
                        <div class="column is-full" id="listaVehiculosEnParquedero">

                        </div>

                    </div>
                </div>
                <!-- fin LIstar informacion -->
            </div>
        </div>


    </div>


    <footer class="footer">
        <div class="container">
            <div class="columns">
                <div class="column is-4 has-text-centered is-hidden-tablet"><a class="title is-4" href="#">Pied
                        Piper</a>
                </div>
                <div class="column is-4">
                    <div class="level"></div>
                </div>
                <div class="column is-4 has-text-centered is-hidden-mobile"></div>
                <div class="column is-4 has-text-right">
                    <div class="level"><a class="level-item" href="./contacto.html" target="_blank">Contacto</a><a
                            class="level-item" href="https://twitter.com/yoiler_cordoba" target="_blank">Twitter</a>
                    </div>
                </div>
            </div>
            <p class="subtitle has-text-centered is-6">&copy; 2019 ParkinLP. All right reserved @yoiler_cordoba</p>
        </div>
    </footer>



    <script src="https://www.gstatic.com/firebasejs/6.3.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.3.4/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-auth.js"></script>
    <script src="./js/confi.js"></script>
    <script src="./js/app.js"></script>
    <script src="./js/logica.js"></script>

    <!-- Pequeños scripts -->
    <script>
        // cambiar placeabar cuando cambie el valor de mi selec
        SelecVehiculoABuscar.addEventListener('change', e => {
            InputVehiculoABuscar.placeholder = ` ${e.currentTarget.value} del vehiculo `
        })

        // deslogear
        btnSalir.addEventListener('click', e => {

            let quiereSalir = confirm('Esta seguro que quiere cerrar seccion ?')
            if (quiereSalir == true) {
                firebase.auth().signOut()
                    .then(() => {
                        alert("Deslogueado")
                        location.href = "/login.html";
                    })
                    .catch((error) => {
                        alert(error);

                    })
            }
        })

        //verificar si el jugador esta logueado
        let reverificarSiEstaLogeado = setInterval(() => {
            firebase.auth().onAuthStateChanged(function (user) {
                if (user) {
                    // User is signed in.

                    console.log("Logueado", user);

                } else {
                    // User is signed out.
                    // ...
                    console.log("Deslogueado");
                    location.href = "/login.html";


                }
            });
        }, 2000)


    </script>
</body>

</html>